<div class="page-header">
    <h3>Query overview</h3>
</div>

<div class="row">
    <div class="span6">

        <div># Queries: {count}</div>
        <div>Time span: {deltaTime} ({fromTime} - {toTime})</div>
        <div>Avg. time/query: {avgTime}</div>
    </div>
    <div class="span3 pull-right">
        <a onclick="return Sjs.submit('clear')" class="btn btn-danger">Clear queries</a>
    </div>
</div>

<ul class="nav nav-pills">
    <li {if(sortTotalTime)}class="active"{/if}><a onclick="return Sjs.submit('sortTotalTime')">Total time</a></li>
    <li {if(sortAvgTime)}class="active"{/if}><a onclick="return Sjs.submit('sortAvgTime')">Avg. time</a></li>
    <li {if(sortTotalCalls)}class="active"{/if}><a onclick="return Sjs.submit('sortTotalCalls')"># Calls</a></li>
</ul>

<table class="table table-condensed table-striped " id="overview">
    <thead>
    <tr>
        <th> </th>
        <th>Total time (ms)</th>
        <th>Avg. time (ms)</th>
        <th># Calls</th>
        <th>Sql</th>
    </tr>
    </thead>
    <tbody>
    {each(queries as q)}
    <tr>
        <td><a onclick="return Sjs.submit('select', '{q.hash}')"><i class=" icon-zoom-in"></i></a></td>
        <td>{q.total}</td>
        <td>{q.formattedNano}</td>
        <td>{q.count}</td>
        <td><pre><code class="sql">{!q.sql}</code></pre></td>
    </tr>
    {/each}
    </tbody>
</table>
